# Phase 7.1: Documentation Workflow - Context

**Gathered:** 2026-02-06
**Status:** Ready for planning

<domain>
## Phase Boundary

Jupytext-based workflow where agents write .py percent-format files that convert to .ipynb notebooks for human consumption. Includes pre-commit setup, migration of existing notebooks, and a template for future notebook authoring. No new documentation content — just the tooling and migration.

</domain>

<decisions>
## Implementation Decisions

### File organization
- .py source files and .ipynb outputs live in the same `notebooks/` directory
- Both .py and .ipynb checked into git (not gitignored)
- Numbered prefixes for ordering: `01_quickstart.py`, `02_proportional_hazards.py`, etc.
- Jupytext config in `pyproject.toml` (`[tool.jupytext]` section)

### Conversion workflow
- Pre-commit hook runs jupytext sync on commit (.py → .ipynb automatic)
- Full pre-commit setup including ruff and standard hooks (matching ah-grocery-bot pattern)
- Structure-only conversion — no cell execution during sync
- No Makefile target needed; pre-commit is the sole conversion mechanism

### Migration approach
- Migrate both `quickstart.ipynb` and `proportional_hazards.ipynb` to .py source
- Accept output loss — outputs regenerated when users run notebooks
- Clean up content during migration (improve explanations, fix formatting, update examples)
- Target filenames: `01_quickstart.py`, `02_proportional_hazards.py`

### Agent writing conventions
- Template .py file provided for future phases (8-10) to copy
- Tutorial-style tone: step-by-step walkthrough, guided and educational
- Include matplotlib visualizations where they add value (survival curves, cost comparisons)
- Matplotlib as the plotting library (no plotly)

### Claude's Discretion
- Exact jupytext percent-format cell markers and conventions
- Template file structure details
- Pre-commit hook versions and exact configuration
- Notebook content improvements during migration (within tutorial-style tone)

</decisions>

<specifics>
## Specific Ideas

- "Similar setup to ah-grocery-bot" — pre-commit with ruff, standard hooks, plus jupytext
- Pre-commit config pattern: ruff with --fix, trailing-whitespace, end-of-file-fixer, check-yaml, check-json, check-ast, debug-statements

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 07.1-documentation-workflow*
*Context gathered: 2026-02-06*
